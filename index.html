<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Embedded Prompt Builder</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body {
    font-family: Inter, system-ui, sans-serif;
    background: #0f172a;
    color: #e5e7eb;
    margin: 0;
    padding: 30px;
}
.app {
    max-width: 1100px;
    margin: auto;
    background: #020617;
    padding: 30px;
    border-radius: 14px;
}
h1 { margin-top: 0; }
details {
    margin-top: 14px;
    border: 1px solid #1e293b;
    border-radius: 10px;
    padding: 10px;
}
summary {
    cursor: pointer;
    font-weight: 700;
}
.module {
    display: flex;
    gap: 8px;
    align-items: center;
    padding: 6px 0;
    font-size: 13px;
}
input, textarea, select {
    width: 100%;
    margin-top: 8px;
    padding: 10px;
    border-radius: 8px;
    background: #020617;
    color: #e5e7eb;
    border: 1px solid #1e293b;
}
textarea { min-height: 90px; }
button {
    margin-top: 20px;
    padding: 12px 18px;
    border-radius: 10px;
    border: none;
    background: #38bdf8;
    color: #020617;
    font-weight: 700;
    cursor: pointer;
}
.output {
    margin-top: 30px;
    background: #020617;
    border: 1px solid #1e293b;
    padding: 20px;
    border-radius: 10px;
    white-space: pre-wrap;
    font-family: ui-monospace, monospace;
    font-size: 13px;
}
</style>
</head>
<body>

<div class="app">
<h1>Embedded C++ Prompt Builder</h1>

<label>Search modules</label>
<input id="search" placeholder="e.g. BME280, accelerometer, LoRa">

<div id="moduleContainer"></div>

<button onclick="generatePrompt()">Generate AI Prompt</button>
<div class="output" id="output"></div>
</div>

<script>
const modules = {
  "Environmental Sensors": [
    { name: "BME280", desc: "Temperature, Humidity, Pressure (I2C/SPI)" },
    { name: "BMP280", desc: "Pressure & Temperature" },
    { name: "SHT31-D", desc: "High-accuracy temperature & humidity" },
    { name: "DHT22 (AM2302)", desc: "Temperature & humidity sensor" },
    { name: "DS18B20", desc: "1-Wire digital temperature sensor" }
  ],
  "Motion & IMU": [
    { name: "MPU6050", desc: "6-axis accelerometer + gyroscope" },
    { name: "MPU9250", desc: "9-axis IMU with magnetometer" },
    { name: "LSM9DS1", desc: "9-DOF IMU" }
  ],
  "Distance & Proximity": [
    { name: "HC-SR04", desc: "Ultrasonic distance sensor" },
    { name: "VL53L0X", desc: "Laser time-of-flight distance sensor" },
    { name: "Sharp GP2Y0A21", desc: "Infrared distance sensor" }
  ],
  "Displays": [
    { name: "SSD1306 OLED", desc: "128x64 OLED display (I2C/SPI)" },
    { name: "SH1106 OLED", desc: "OLED display controller" },
    { name: "ILI9341 TFT", desc: "240x320 SPI TFT display" },
    { name: "MAX7219", desc: "LED matrix / 7-seg driver" }
  ],
  "Communication": [
    { name: "ESP8266", desc: "WiFi module" },
    { name: "nRF24L01+", desc: "2.4GHz RF transceiver" },
    { name: "SX1276 / SX1278", desc: "LoRa transceiver" },
    { name: "SIM800L", desc: "GSM/GPRS module" }
  ],
  "Timing & Storage": [
    { name: "DS3231", desc: "High-precision RTC" },
    { name: "AT24C256", desc: "I2C EEPROM" },
    { name: "MicroSD Card Module", desc: "SPI storage module" }
  ]
};

function renderModules(filter = "") {
  const container = document.getElementById("moduleContainer");
  container.innerHTML = "";

  Object.entries(modules).forEach(([category, items]) => {
    const filtered = items.filter(m =>
      (m.name + m.desc).toLowerCase().includes(filter)
    );
    if (!filtered.length) return;

    const details = document.createElement("details");
    details.innerHTML = `<summary>${category}</summary>`;
    filtered.forEach(m => {
      const div = document.createElement("div");
      div.className = "module";
      div.innerHTML = `
        <input type="checkbox" value="${m.name} – ${m.desc}">
        <span><strong>${m.name}</strong> — ${m.desc}</span>
      `;
      details.appendChild(div);
    });
    container.appendChild(details);
  });
}

document.getElementById("search").addEventListener("input", e => {
  renderModules(e.target.value.toLowerCase());
});

renderModules();

function generatePrompt() {
  const selected = [...document.querySelectorAll('input[type="checkbox"]:checked')]
    .map(cb => cb.value)
    .join(", ");

  output.textContent = `
You are an expert embedded systems engineer.

Generate clean, production-ready C++ firmware.

Hardware modules used:
${selected}

Rules:
- Use non-blocking code
- Follow embedded best practices
- Modular, maintainable structure
- Clear pin definitions and comments
`;
}
</script>

</body>
</html>
